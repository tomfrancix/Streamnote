@model streamnote.Models.Descriptors.ProfileDescriptor

@{
    ViewData["Title"] = "Index";
}

<div class="container">
    <div class="row">
        <div class="col-md-3" style="text-align: left;">
            <div class="card">
                <div class="card-header" style="padding: 0;">
                    @{
                        if (Model.UserImage == null || Model.UserImageContentType == null)
                        {
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/1665px-No-Image-Placeholder.svg.png"
                                 style="width: 100%;" />
                        }
                        else
                        {
                            <img src="data:@Model.UserImageContentType;base64,@Convert.ToBase64String(Model.UserImage)" style="width: 100%;" />
                        }
                    }
                </div>
                <div class="card-body" style="padding: 8px;">
                    <h4>@Model.UserName</h4>
                    <br/> 
                    @{
                        if (!Model.IsSignedInUser)
                        {
                            <a href="/Messages/Index?username=@Model.UserName" class="btn btn-dark">Message</a><br/>
                        }
                    }
                    <span><strong>Bio: </strong>
                        @Model.Bio
                    </span>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <h2>@Model.UserName's Posts</h2>
            @foreach (var item in Model.Posts)
            {
                @Html.Partial("_Item", item)
            }
        </div>
    </div>
</div>